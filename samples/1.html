<!doctype html>
<html>
    <head>
        <meta charset="utf-8">

        <title>Ink.js - sample 1</title>

        <script type="text/javascript" src="/Ink/lib.js"></script>

        <style type="text/css">
            body {
                font-family: sans-serif;
            }
        </style>
    </head>

    <body>
        <h1>Ink.js - sample 1</h1>

        <div id="a"></div>

        <script type="text/javascript">
            var l = function() {
                var args = Array.prototype.slice.call(arguments);
                console.log.apply(console, args);
            };

            Ink.requireModules(
                ['Ink.Component.Slider_1', 'Ink.Component.Slider_2', 'Ink.Component.Gallery', 'Ink.Dom.Css_1'],   // notice that modules get loaded in parallel. the load order is undetermined
                function(Slider1, Slider2, Gallery, Css) {
                    l('\n..require callback started..');


                    l('\nCLASSES');
                    window.sl1 = new Slider1(document.body, {value:1});
                    window.sl2 = new Slider2(document.body, {value:2});
                    l('should be 1 -> ' + sl1._version);
                    l('should be 2 -> ' + sl2._version);

                    var divEl = document.querySelector('#a');

                    window.sl1b = new Ink.Component.Slider_1(divEl, {value:11});
                    window.sl2b = new Ink.Component.Slider_2(divEl, {value:22});
                    window.sldef = new Ink.Component.Slider(divEl, {value:0});
                    l('should be 1 -> ' + sl1b._version);
                    l('should be 2 -> ' + sl2b._version);
                    l('undetermined -> ' + sldef._version);

                    // this information can be used to build a bundle!
                    l( Ink.getModulesLoadOrder() );

                    l('equal?', Ink.getModule('Ink.Component.Slider', 1) === Ink.Component.Slider_1);
                    l('equal?', Ink.getModule('Ink.Component.Slider', 2)  === Ink.Component.Slider_2);
                    l('equal?', Ink.getModule('Ink.Component.Slider')    === Ink.Component.Slider);


                    l('\nNAMESPACES');
                    Css.addClassName(divEl, 'asd');
                    l('equal?', Css._version === 1);
                    

                    l('\nFUNCTIONS');
                    window.g = Gallery();
                    l('equal?', Gallery._version === 1);
                }
            );
        </script>
    </body>
</html>
